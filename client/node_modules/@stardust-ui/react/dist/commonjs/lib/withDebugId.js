"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _typeof2 = _interopRequireDefault(require("@babel/runtime/helpers/typeof"));

var _debugEnabled = require("./debug/debugEnabled");

var withDebugId = process.env.NODE_ENV === 'production' ? function (data, debugId) {
  return data;
} : function (data, debugId) {
  if (!_debugEnabled.isEnabled || debugId === undefined) {
    return data;
  }

  if ((0, _typeof2.default)(data) === 'object' && data !== null) {
    if (!Object.prototype.hasOwnProperty.call(data, '_debugId')) {
      var copy = Object.assign({}, data);
      Object.defineProperty(copy, '_debugId', {
        value: debugId,
        writable: false,
        enumerable: false
      });
      return copy;
    }
  }

  if (typeof data === 'function') {
    return function () {
      var result = data.apply(void 0, arguments);
      return withDebugId(result, debugId);
    };
  }

  return data;
};
var _default = withDebugId;
exports.default = _default;