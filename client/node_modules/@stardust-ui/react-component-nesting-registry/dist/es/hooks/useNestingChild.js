import * as React from 'react';
import NestingContext from '../NestingContext';

var useNestingChild = function useNestingChild() {
  var nestingContext = React.useContext(NestingContext);
  var childRef = React.useRef(null);
  var getRefs = React.useCallback(function () {
    return nestingContext.getContextRefs(childRef);
  }, []);
  React.useEffect(function () {
    nestingContext.register(childRef);
    return function () {
      return nestingContext.unregister(childRef);
    };
  }, []);
  return {
    NestedComponent: React.Fragment,
    nestedProps: null,
    getRefs: getRefs,
    isRoot: false,
    ref: childRef
  };
};

export default useNestingChild;